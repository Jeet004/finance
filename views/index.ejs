<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h1 class="text-center mb-4">Dashboard</h1>
        </div>
    </div>
    
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card text-center bg-success text-white">
                <div class="card-body">
                    <h5>Total Income</h5>
                    <h3>$<%= income && typeof income === 'number' ? income.toFixed(2) : '0.00' %></h3>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center bg-danger text-white">
                <div class="card-body">
                    <h5>Total Expenses</h5>
                    <h3>$<%= expenses && typeof expenses === 'number' ? expenses.toFixed(2) : '0.00' %></h3>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center bg-info text-white">
                <div class="card-body">
                    <h5>Balance</h5>
                    <h3>$<%= balance && typeof balance === 'number' ? balance.toFixed(2) : '0.00' %></h3>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <h2 class="mt-5">Transaction History</h2>
            <table class="table table-bordered mt-3">
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Description</th>
                        <th>Category</th>
                    </tr>
                </thead>
                <tbody>
                    <% transactions.forEach(transaction => { %>
                        <tr>
                            <td><%= transaction.type %></td>
                            <td>
                                <% if (typeof transaction.amount === 'number') { %>
                                    $<%= transaction.amount.toFixed(2) %>
                                <% } else { %>
                                    $<%= parseFloat(transaction.amount).toFixed(2) %>
                                <% } %>
                            </td>
                            <td><%= transaction.description %></td>
                            <td><%= transaction.category %></td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>
</div>
